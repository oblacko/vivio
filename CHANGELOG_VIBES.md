# Changelog: –í–∞–π–±—ã, –¢–µ–≥–∏ –∏ –ò–∑–±—Ä–∞–Ω–Ω–æ–µ

## [2.0.0] - 2024-01-21

### –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ Challenge ‚Üí Vibe

**–û—Å–Ω–æ–≤–Ω–∞—è –∫–æ–Ω—Ü–µ–ø—Ü–∏—è:** "–ß–µ–ª–ª–µ–Ω–¥–∂–∏" –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω—ã –≤ "–í–∞–π–±—ã" –ø–æ –≤—Å–µ–º—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é –¥–ª—è –ª—É—á—à–µ–≥–æ –æ—Ç—Ä–∞–∂–µ–Ω–∏—è —Å—É—Ç–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞.

#### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ `Challenge` ‚Üí `Vibe` (–º–æ–¥–µ–ª—å Prisma)
- ‚úÖ `ChallengeCategory` ‚Üí `VibeCategory` (enum)
- ‚úÖ `challengeId` ‚Üí `vibeId` (–ø–æ–ª—è –≤ Video, GenerationJob)
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞ `challenges` ‚Üí `vibes`

#### API Routes
- ‚úÖ `/api/challenges` ‚Üí `/api/vibes`
- ‚úÖ `/api/admin/challenges` ‚Üí `/api/admin/vibes`
- ‚úÖ –í—Å–µ endpoint'—ã –æ–±–Ω–æ–≤–ª–µ–Ω—ã

#### –°—Ç—Ä–∞–Ω–∏—Ü—ã
- ‚úÖ `/challenges` ‚Üí `/vibes`
- ‚úÖ `/challenges/[id]` ‚Üí `/vibes/[id]`
- ‚úÖ –ù–∞–≤–∏–≥–∞—Ü–∏—è: "–¢—Ä–µ–Ω–¥—ã" ‚Üí "–í–∞–π–±—ã"

#### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- ‚úÖ `ChallengeCard` ‚Üí `VibeCard`
- ‚úÖ `useChallengeStore` ‚Üí `useVibeStore`
- ‚úÖ `useChallenges()` ‚Üí `useVibes()`

### –ù–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª: –¢–µ–≥–∏

**–û–ø–∏—Å–∞–Ω–∏–µ:** –°–∏—Å—Ç–µ–º–∞ —Ç–µ–≥–æ–≤ –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏–∏ –∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –≤–∞–π–±–æ–≤.

#### –ú–æ–¥–µ–ª–∏ –ë–î
- ‚úÖ `Tag` - —Ö—Ä–∞–Ω–∏—Ç —Ç–µ–≥–∏ (id, name, createdAt)
- ‚úÖ `VibeTag` - —Å–≤—è–∑—å many-to-many –º–µ–∂–¥—É –≤–∞–π–±–∞–º–∏ –∏ —Ç–µ–≥–∞–º–∏
- ‚úÖ –°–≤—è–∑–∏: Vibe ‚Üî Tag (—á–µ—Ä–µ–∑ VibeTag)

#### API Endpoints
- ‚úÖ `GET /api/admin/tags` - —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Ç–µ–≥–æ–≤
- ‚úÖ `POST /api/admin/tags` - —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Ç–µ–≥–∞
- ‚úÖ `DELETE /api/admin/tags/[id]` - —É–¥–∞–ª–µ–Ω–∏–µ —Ç–µ–≥–∞
- ‚úÖ `POST /api/admin/vibes/[id]/tags` - –¥–æ–±–∞–≤–∏—Ç—å —Ç–µ–≥ –∫ –≤–∞–π–±—É
- ‚úÖ `DELETE /api/admin/vibes/[id]/tags` - —É–¥–∞–ª–∏—Ç—å —Ç–µ–≥ —É –≤–∞–π–±–∞

#### UI
- ‚úÖ –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å: —Ä–∞–∑–¥–µ–ª "–¢–µ–≥–∏" —Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º
- ‚úÖ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç `TagsManager` –¥–ª—è CRUD –æ–ø–µ—Ä–∞—Ü–∏–π —Å —Ç–µ–≥–∞–º–∏
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–µ–≥–æ–≤ –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–∞—Ö –≤–∞–π–±–æ–≤ (VibeCard)
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–µ–≥–æ–≤ –≤ VibeBadge
- ‚úÖ AppSidebar: –¥–æ–±–∞–≤–ª–µ–Ω –ø—É–Ω–∫—Ç "–¢–µ–≥–∏"

### –ù–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª: –ò–∑–±—Ä–∞–Ω–Ω–æ–µ

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –ª—é–±–∏–º—ã–µ –≤–∞–π–±—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞.

#### –ú–æ–¥–µ–ª–∏ –ë–î
- ‚úÖ `FavoriteVibe` - —Å–≤—è–∑—å User ‚Üî Vibe
- ‚úÖ –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–Ω–¥–µ–∫—Å –ø–æ (userId, vibeId)
- ‚úÖ –ö–∞—Å–∫–∞–¥–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–ª–∏ –≤–∞–π–±–∞

#### API Endpoints
- ‚úÖ `GET /api/favorites` - —Å–ø–∏—Å–æ–∫ –∏–∑–±—Ä–∞–Ω–Ω—ã—Ö –≤–∞–π–±–æ–≤ —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ `POST /api/favorites/[vibeId]` - –¥–æ–±–∞–≤–∏—Ç—å –≤–∞–π–± –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ
- ‚úÖ `DELETE /api/favorites/[vibeId]` - —É–¥–∞–ª–∏—Ç—å –≤–∞–π–± –∏–∑ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ

#### –°—Ç—Ä–∞–Ω–∏—Ü—ã
- ‚úÖ `/favorites` - —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–æ –≤—Å–µ–º–∏ –∏–∑–±—Ä–∞–Ω–Ω—ã–º–∏ –≤–∞–π–±–∞–º–∏
- ‚úÖ –¢—Ä–µ–±—É–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ VibeCard —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é —É–¥–∞–ª–µ–Ω–∏—è –∏–∑ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ

#### UI
- ‚úÖ VibeBadge: –∏–∫–æ–Ω–∫–∞ Heart –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è/—É–¥–∞–ª–µ–Ω–∏—è –∏–∑ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ
- ‚úÖ –ù–∞–≤–∏–≥–∞—Ü–∏—è: –ø—É–Ω–∫—Ç "–ò–∑–±—Ä–∞–Ω–Ω–æ–µ" –≤ –≥–ª–∞–≤–Ω–æ–º –º–µ–Ω—é
- ‚úÖ Toast —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏/—É–¥–∞–ª–µ–Ω–∏–∏
- ‚úÖ –í–∏–∑—É–∞–ª—å–Ω–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è –∏–∑–±—Ä–∞–Ω–Ω—ã—Ö –≤–∞–π–±–æ–≤ (–∑–∞–ø–æ–ª–Ω–µ–Ω–Ω–æ–µ —Å–µ—Ä–¥—Ü–µ)

#### –•—É–∫–∏
- ‚úÖ `useFavorites()` - –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∏–∑–±—Ä–∞–Ω–Ω—ã—Ö
- ‚úÖ `useToggleFavorite()` - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ –∏–∑ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è –∫–µ—à–∞ –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç VibeBadge

**–ù–æ–≤—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤–∞–π–±–∞ –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–∞—Ö –≤–∏–¥–µ–æ.**

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- –ò–∫–æ–Ω–∫–∞ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ (Heart) —Å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–º –∫–ª–∏–∫–∞
- –ù–∞–∑–≤–∞–Ω–∏–µ –≤–∞–π–±–∞ (—Å —Å—Å—ã–ª–∫–æ–π –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤–∞–π–±–∞)
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–µ–≥–æ–≤ (–¥–æ 2 —Ç–µ–≥–æ–≤ + —Å—á–µ—Ç—á–∏–∫)
- –ö–Ω–æ–ø–∫–∞ "–°–æ–∑–¥–∞—Ç—å" –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è –≤–∏–¥–µ–æ —Å —ç—Ç–∏–º –≤–∞–π–±–æ–º
- –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ `/create?vibeId=xxx` –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ "–°–æ–∑–¥–∞—Ç—å"

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```tsx
<VibeBadge
  vibeId={vibe.id}
  vibeName={vibe.title}
  tags={vibe.tags}
  isFavorite={isFavorite}
  onToggleFavorite={handleToggle}
/>
```

### –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ

**–û–±–Ω–æ–≤–ª–µ–Ω–∏—è:**
- ‚úÖ `getVibesCache()` / `setVibesCache()` –≤ Redis client
- ‚úÖ –ö–µ—à –∫–ª—é—á: `vibes:list` (1 —á–∞—Å)
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏/–æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏/—É–¥–∞–ª–µ–Ω–∏–∏

### –ú–∏–≥—Ä–∞—Ü–∏—è

**–ö–æ–º–∞–Ω–¥–∞ –º–∏–≥—Ä–∞—Ü–∏–∏:**
```bash
npx prisma migrate dev --name init_vibes_tags_favorites
```

**–î–µ–π—Å—Ç–≤–∏—è –º–∏–≥—Ä–∞—Ü–∏–∏:**
1. –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã `challenges` ‚Üí `vibes`
2. –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ enum `ChallengeCategory` ‚Üí `VibeCategory`
3. –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –∫–æ–ª–æ–Ω–æ–∫ `challengeId` ‚Üí `vibeId`
4. –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã `tags`
5. –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã `vibe_tags` (junction)
6. –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã `favorite_vibes`
7. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—Å–µ—Ö –∏–Ω–¥–µ–∫—Å–æ–≤ –∏ foreign keys

### –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

‚ùå **Breaking Changes:**
- –í—Å–µ API endpoints —Å `/challenges` —É–¥–∞–ª–µ–Ω—ã
- –°—Ç–∞—Ä—ã–µ store –∏ queries —É–¥–∞–ª–µ–Ω—ã
- –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –æ–±–Ω–æ–≤–∏—Ç—å –≤—Å–µ –≤–Ω–µ—à–Ω–∏–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

### –£–¥–∞–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

**–°—Ç—Ä–∞–Ω–∏—Ü—ã:**
- `src/app/challenges/page.tsx`
- `src/app/challenges/[id]/page.tsx`

**API:**
- `src/app/api/challenges/route.ts`
- `src/app/api/challenges/[id]/route.ts`
- `src/app/api/admin/challenges/route.ts`
- `src/app/api/admin/challenges/[id]/route.ts`

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- `src/components/challenges/ChallengeCard.tsx`

**Store & Queries:**
- `src/store/useChallengeStore.ts`
- `src/lib/queries/challenges.ts`

**–¢–µ—Å—Ç—ã:**
- `src/__tests__/components/ChallengeCard.test.tsx`

**–°–∫—Ä–∏–ø—Ç—ã:**
- `scripts/list-challenges.ts`
- `scripts/check-challenges.js`

### –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

**–°—Ç—Ä–∞–Ω–∏—Ü—ã:**
- `src/app/vibes/page.tsx`
- `src/app/vibes/[id]/page.tsx`
- `src/app/favorites/page.tsx`

**API:**
- `src/app/api/vibes/route.ts`
- `src/app/api/vibes/[id]/route.ts`
- `src/app/api/admin/vibes/route.ts`
- `src/app/api/admin/vibes/[id]/route.ts`
- `src/app/api/admin/vibes/[id]/tags/route.ts`
- `src/app/api/admin/tags/route.ts`
- `src/app/api/admin/tags/[id]/route.ts`
- `src/app/api/favorites/route.ts`
- `src/app/api/favorites/[vibeId]/route.ts`

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- `src/components/vibe/VibeCard.tsx`
- `src/components/vibe/VibeBadge.tsx`
- `src/components/admin/TagsManager.tsx`

**Store & Queries:**
- `src/store/useVibeStore.ts`
- `src/lib/queries/vibes.ts`
- `src/lib/queries/favorites.ts`

**–°–∫—Ä–∏–ø—Ç—ã:**
- `scripts/list-vibes.ts`

**–ú–∏–≥—Ä–∞—Ü–∏–∏:**
- `prisma/migrations/20260121181425_init_vibes_tags_favorites/`

## –ò—Ç–æ–≥–∏

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- üìù –û–±–Ω–æ–≤–ª–µ–Ω–æ: ~45 —Ñ–∞–π–ª–æ–≤
- üóëÔ∏è –£–¥–∞–ª–µ–Ω–æ: ~25 —Ñ–∞–π–ª–æ–≤
- ‚ú® –°–æ–∑–¥–∞–Ω–æ: ~20 –Ω–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤
- üóÑÔ∏è –ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î: 1
- üéØ –ù–æ–≤—ã—Ö –º–æ–¥–µ–ª–µ–π –ë–î: 3 (Tag, VibeTag, FavoriteVibe)
- üöÄ –ù–æ–≤—ã—Ö API endpoints: 9

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ TypeScript –∫–æ–º–ø–∏–ª—è—Ü–∏—è –±–µ–∑ –æ—à–∏–±–æ–∫
- ‚úÖ Next.js build —É—Å–ø–µ—à–µ–Ω
- ‚ö†Ô∏è Warnings ESLint (–Ω–µ –∫—Ä–∏—Ç–∏—á–Ω—ã–µ)

### –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å
‚úÖ **–ì–æ—Ç–æ–≤–æ –∫ –¥–µ–ø–ª–æ—é**

–í—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è.
