# –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç –∫–∞–∫ —É–ø—Ä–∞–≤–ª—è—Ç—å –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ Vivio.

## –£—Ä–æ–≤–Ω–∏ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —É—Ä–æ–≤–Ω–µ–π –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:

1. **Next.js ISR (Incremental Static Regeneration)** - –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —É—Ä–æ–≤–Ω–µ —Å–µ—Ä–≤–µ—Ä–∞
2. **Redis/Vercel KV** - –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
3. **React Query** - –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ

## –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

### –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è

```bash
# –ü–æ–ª–Ω–æ—Å—Ç—å—é –æ—Ç–∫–ª—é—á–∞–µ—Ç –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ (–≤–∫–ª—é—á–∞—è Redis)
DISABLE_CACHE=true
```

### –ó–∞—â–∏—Ç–∞ API —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞ –æ—á–∏—Å—Ç–∫–∏ –∫–µ—à–∞

```bash
# –¢–æ–∫–µ–Ω –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ /api/cache/clear
CACHE_CLEAR_TOKEN=your-secure-token-here
```

### URL –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞

```bash
# URL –≤–∞—à–µ–≥–æ –ø—Ä–æ–¥–∞–∫—à–µ–Ω –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–ª—è —Å–∫—Ä–∏–ø—Ç–∞ –æ—á–∏—Å—Ç–∫–∏
PRODUCTION_URL=https://your-domain.vercel.app
```

## –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ –∫–µ—à–∞

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

```bash
# –û—á–∏—Å—Ç–∫–∞ –ª–æ–∫–∞–ª—å–Ω—ã—Ö –∫–µ—à–µ–π (Redis/Vercel KV)
npm run cache:clear
```

### –ü—Ä–æ–¥–∞–∫—à–µ–Ω

```bash
# –û—á–∏—Å—Ç–∫–∞ –∫–µ—à–µ–π –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ —á–µ—Ä–µ–∑ API
npm run cache:clear:prod
```

### –†—É—á–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ API

```bash
# –ü—Ä—è–º–æ–π –≤—ã–∑–æ–≤ API —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞
curl -X POST https://your-domain.vercel.app/api/cache/clear \
  -H "Authorization: Bearer your-secure-token-here"
```

## –°—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ

–ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–∫–ª—é—á–µ–Ω–æ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (`NODE_ENV !== 'production'`).

### –í –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ

- **–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é**: –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–∫–ª—é—á–µ–Ω–æ –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- **–û—Ç–∫–ª—é—á–µ–Ω–∏–µ –∫–µ—à–∞**: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `DISABLE_CACHE=true` –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
- **–í—Ä–µ–º–µ–Ω–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `npm run cache:clear:prod` –∏–ª–∏ API —ç–Ω–¥–ø–æ–∏–Ω—Ç

### –ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–ï—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑–º–µ–Ω–∏–ª–∏—Å—å –∏ –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å –∫–µ—à:

```bash
# –û—á–∏—Å—Ç–∏—Ç—å –∫–µ—à –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ
npm run cache:clear:prod
```

## API –≠–Ω–¥–ø–æ–∏–Ω—Ç

### POST /api/cache/clear

–û—á–∏—â–∞–µ—Ç –≤—Å–µ –∫–µ—à–∏ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏.

**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è**: –¢—Ä–µ–±—É–µ—Ç—Å—è `CACHE_CLEAR_TOKEN` –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ `Authorization: Bearer <token>`

**–û—Ç–≤–µ—Ç**:
```json
{
  "success": true,
  "message": "All caches cleared successfully",
  "timestamp": "2024-01-17T12:00:00.000Z",
  "redisType": "vercel-kv"
}
```

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –õ–æ–≥–∏ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ª–æ–≥–∏—Ä—É–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏–∏ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è:

```
‚úÖ Serving from Redis cache
üîÑ Fetching from database
üíæ Saved to cache
üö´ Cache disabled via DISABLE_CACHE=true
üßπ Clearing all caches...
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –∫–µ—à–∞

–ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ª–∏ –∫–µ—à –∏–ª–∏ –¥–∞–Ω–Ω—ã–µ –±–µ—Ä—É—Ç—Å—è –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.

## –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- **–° –∫–µ—à–µ–º**: –ë—ã—Å—Ç—Ä–∞—è –∑–∞–≥—Ä—É–∑–∫–∞, –º–µ–Ω—å—à–µ –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ –ë–î
- **–ë–µ–∑ –∫–µ—à–∞**: –ê–∫—Ç—É–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, –≤—ã—à–µ –Ω–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ –ë–î

–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ –∏ –æ—Ç–∫–ª—é—á–∞—Ç—å —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏.